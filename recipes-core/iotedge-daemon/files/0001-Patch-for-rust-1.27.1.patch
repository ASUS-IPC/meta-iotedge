From 4892b3bf95291feba0980fb51ba0b4e7e7a3a69a Mon Sep 17 00:00:00 2001
From: Mike Yagley <myagley@gmail.com>
Date: Wed, 19 Dec 2018 10:55:49 -0800
Subject: [PATCH] Patch for rust 1.27.1

---
 edgelet/dps/src/lib.rs                   | 1 +
 edgelet/edgelet-core/src/lib.rs          | 1 +
 edgelet/edgelet-docker/src/lib.rs        | 1 +
 edgelet/edgelet-hsm/src/lib.rs           | 1 +
 edgelet/edgelet-http-mgmt/src/lib.rs     | 1 +
 edgelet/edgelet-http-workload/src/lib.rs | 1 +
 edgelet/edgelet-http/src/lib.rs          | 1 +
 edgelet/edgelet-iothub/src/lib.rs        | 1 +
 edgelet/edgelet-utils/src/lib.rs         | 1 +
 edgelet/hsm-rs/src/lib.rs                | 1 +
 edgelet/iotedge/src/lib.rs               | 1 +
 edgelet/iotedged/src/lib.rs              | 1 +
 edgelet/iothubservice/src/lib.rs         | 1 +
 edgelet/provisioning/src/lib.rs          | 1 +
 edgelet/systemd/src/lib.rs               | 1 +
 15 files changed, 15 insertions(+)

diff --git a/edgelet/dps/src/lib.rs b/edgelet/dps/src/lib.rs
index 238361cf..8f792701 100644
--- a/edgelet/dps/src/lib.rs
+++ b/edgelet/dps/src/lib.rs
@@ -12,6 +12,7 @@
 extern crate base64;
 extern crate bytes;
 extern crate chrono;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 #[cfg(test)]
diff --git a/edgelet/edgelet-core/src/lib.rs b/edgelet/edgelet-core/src/lib.rs
index 40a38590..d8f0c3d4 100644
--- a/edgelet/edgelet-core/src/lib.rs
+++ b/edgelet/edgelet-core/src/lib.rs
@@ -14,6 +14,7 @@ extern crate base64;
 extern crate bytes;
 extern crate chrono;
 extern crate consistenttime;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hmac;
diff --git a/edgelet/edgelet-docker/src/lib.rs b/edgelet/edgelet-docker/src/lib.rs
index b43cb943..8bfd7fb3 100644
--- a/edgelet/edgelet-docker/src/lib.rs
+++ b/edgelet/edgelet-docker/src/lib.rs
@@ -11,6 +11,7 @@
 
 extern crate base64;
 extern crate chrono;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hyper;
diff --git a/edgelet/edgelet-hsm/src/lib.rs b/edgelet/edgelet-hsm/src/lib.rs
index ac4774f9..31f826a2 100644
--- a/edgelet/edgelet-hsm/src/lib.rs
+++ b/edgelet/edgelet-hsm/src/lib.rs
@@ -12,6 +12,7 @@
 extern crate bytes;
 extern crate chrono;
 extern crate edgelet_core;
+#[macro_use]
 extern crate failure;
 extern crate hsm;
 
diff --git a/edgelet/edgelet-http-mgmt/src/lib.rs b/edgelet/edgelet-http-mgmt/src/lib.rs
index d96020ec..e066e360 100644
--- a/edgelet/edgelet-http-mgmt/src/lib.rs
+++ b/edgelet/edgelet-http-mgmt/src/lib.rs
@@ -18,6 +18,7 @@ extern crate edgelet_http;
 extern crate edgelet_iothub;
 #[cfg(test)]
 extern crate edgelet_test_utils;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hyper;
diff --git a/edgelet/edgelet-http-workload/src/lib.rs b/edgelet/edgelet-http-workload/src/lib.rs
index a96f6325..e5746e00 100644
--- a/edgelet/edgelet-http-workload/src/lib.rs
+++ b/edgelet/edgelet-http-workload/src/lib.rs
@@ -18,6 +18,7 @@ extern crate edgelet_http_mgmt;
 #[cfg(test)]
 extern crate edgelet_test_utils;
 extern crate edgelet_utils;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hyper;
diff --git a/edgelet/edgelet-http/src/lib.rs b/edgelet/edgelet-http/src/lib.rs
index fb2467fb..f67028fe 100644
--- a/edgelet/edgelet-http/src/lib.rs
+++ b/edgelet/edgelet-http/src/lib.rs
@@ -15,6 +15,7 @@
 extern crate bytes;
 extern crate chrono;
 extern crate edgelet_core;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hyper;
diff --git a/edgelet/edgelet-iothub/src/lib.rs b/edgelet/edgelet-iothub/src/lib.rs
index 994fcecf..e5d4830b 100644
--- a/edgelet/edgelet-iothub/src/lib.rs
+++ b/edgelet/edgelet-iothub/src/lib.rs
@@ -13,6 +13,7 @@ extern crate base64;
 #[cfg(test)]
 extern crate bytes;
 extern crate chrono;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 #[cfg(test)]
diff --git a/edgelet/edgelet-utils/src/lib.rs b/edgelet/edgelet-utils/src/lib.rs
index 46274332..a0e3b045 100644
--- a/edgelet/edgelet-utils/src/lib.rs
+++ b/edgelet/edgelet-utils/src/lib.rs
@@ -9,6 +9,7 @@
 #![cfg_attr(feature = "cargo-clippy", deny(clippy, clippy_pedantic))]
 #![cfg_attr(feature = "cargo-clippy", allow(stutter, use_self))]
 
+#[macro_use]
 extern crate failure;
 #[cfg(test)]
 extern crate futures;
diff --git a/edgelet/hsm-rs/src/lib.rs b/edgelet/hsm-rs/src/lib.rs
index 8817c74c..6e5c4cba 100644
--- a/edgelet/hsm-rs/src/lib.rs
+++ b/edgelet/hsm-rs/src/lib.rs
@@ -19,6 +19,7 @@
 )]
 
 extern crate chrono;
+#[macro_use]
 extern crate failure;
 extern crate hsm_sys;
 
diff --git a/edgelet/iotedge/src/lib.rs b/edgelet/iotedge/src/lib.rs
index c013982c..11a21f6a 100644
--- a/edgelet/iotedge/src/lib.rs
+++ b/edgelet/iotedge/src/lib.rs
@@ -15,6 +15,7 @@ extern crate chrono_humanize;
 #[macro_use]
 extern crate clap;
 extern crate edgelet_core;
+#[macro_use]
 extern crate failure;
 #[macro_use]
 extern crate futures;
diff --git a/edgelet/iotedged/src/lib.rs b/edgelet/iotedged/src/lib.rs
index c0e06304..ec8ab435 100644
--- a/edgelet/iotedged/src/lib.rs
+++ b/edgelet/iotedged/src/lib.rs
@@ -30,6 +30,7 @@ extern crate edgelet_iothub;
 extern crate edgelet_test_utils;
 extern crate edgelet_utils;
 extern crate env_logger;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hsm;
diff --git a/edgelet/iothubservice/src/lib.rs b/edgelet/iothubservice/src/lib.rs
index a353dfe8..d3b07280 100644
--- a/edgelet/iothubservice/src/lib.rs
+++ b/edgelet/iothubservice/src/lib.rs
@@ -11,6 +11,7 @@
 
 #[cfg(test)]
 extern crate chrono;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hyper;
diff --git a/edgelet/provisioning/src/lib.rs b/edgelet/provisioning/src/lib.rs
index a7787fe8..8e3bd6c5 100644
--- a/edgelet/provisioning/src/lib.rs
+++ b/edgelet/provisioning/src/lib.rs
@@ -11,6 +11,7 @@
 
 extern crate base64;
 extern crate bytes;
+#[macro_use]
 extern crate failure;
 extern crate futures;
 extern crate hsm;
diff --git a/edgelet/systemd/src/lib.rs b/edgelet/systemd/src/lib.rs
index b8bf34b7..548df4e8 100644
--- a/edgelet/systemd/src/lib.rs
+++ b/edgelet/systemd/src/lib.rs
@@ -9,6 +9,7 @@
 #![cfg_attr(feature = "cargo-clippy", deny(clippy, clippy_pedantic))]
 #![cfg_attr(feature = "cargo-clippy", allow(stutter, use_self))]
 
+#[macro_use]
 extern crate failure;
 #[cfg(target_os = "linux")]
 #[cfg(test)]
-- 
2.17.1

